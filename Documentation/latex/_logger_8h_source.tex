\doxysection{Logger.\+h}
\hypertarget{_logger_8h_source}{}\label{_logger_8h_source}\index{C:/dev/1. Project Development Files/OpenLog/src/Logger.h@{C:/dev/1. Project Development Files/OpenLog/src/Logger.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ LOGGER\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ LOGGER\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#pragma\ warning(disable\ :\ 4996)\ }\textcolor{comment}{//\ ignore\ localtime\ usage}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#pragma\ warning(disable\ :\ 2397)\ }\textcolor{comment}{//\ ignore\ uint64\ to\ int\ narrowing}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}OpenLog.h"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <source\_location>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <iomanip>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{using\ namespace\ }OpenLog;}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_log_settings}{LogSettings}}\ \{\ }
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_showTime\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{keyword}{true}\ \};}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_showCode\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{keyword}{true}\ \};}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_showMsg\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{keyword}{true}\ \};}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_showLocation\ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{keyword}{true}\ \};}
\DoxyCodeLine{00024\ \ \ \ \ uint8\_t\ m\_widthOfCodeTextBox\ \ \ \ \{\ 7\ \};}
\DoxyCodeLine{00025\ \ \ \ \ uint8\_t\ m\_logMsgMaxSize\ \ \ \ \ \ \ \ \ \{\ 64\ \};}
\DoxyCodeLine{00026\ \};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00029\ T*\ FindInMap(\textcolor{keyword}{const}\ std::string\ key,\ std::unordered\_map<std::string,\ std::unique\_ptr<T>>\&\ map)\{}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{try}\{}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\&\ buffer\ \{\ map.at(key)\ \};}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ buffer.get();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00033\ \ \ \ \ \}}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{comment}{//\ If\ key\ could\ not\ be\ found,\ return\ false}}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordflow}{catch}(std::out\_of\_range\&\ e)\{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00037\ \ \ \ \ \}}
\DoxyCodeLine{00038\ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_logger}{Logger}}\ final\ \{}
\DoxyCodeLine{00041\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_logger}{Logger}}\&\ GetInstance()\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{class_logger}{\string~Logger}}()\ \ \ \ \{\};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{bool}\ SetLogFilter\ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ std::string\ key)\ \ \ \ \ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{comment}{//\ Log\ Filter\ Interaction}}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ AddLogFilter\ \ \ \ (std::unique\_ptr<LogFilter>\ filter);}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ RemoveLogFilter\ (\textcolor{keyword}{const}\ std::string\ key);}
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{class_open_log_1_1_log_filter}{LogFilter}}*\ \ \ \ \ GetLogFilter\ \ \ \ (\textcolor{keyword}{const}\ std::string\ key);}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//\ Log\ Target\ Interaction}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ AddLogTarget\ \ \ \ \ \ \ \ \ \ \ \ (std::unique\_ptr<LogTarget>\ target);}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ RemoveLogTarget\ \ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ std::string\ key);}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{class_open_log_1_1_log_target}{LogTarget}}*\ \ \ \ \ GetLogTarget\ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ std::string\ key);}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ AddActiveLogTarget\ \ \ \ \ \ (\textcolor{keyword}{const}\ std::string\ key);}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ RemoveActiveLogTarget\ \ \ (\textcolor{keyword}{const}\ std::string\ key);}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//\ Settings}}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_log_settings}{LogSettings}}\&\ GetSettings()\ \{\textcolor{keywordflow}{return}\ m\_defaultLogSettings;\ \}\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{bool}\ ChangeSettings(SETTINGS\ settings,\ uint16\_t\ value);}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{bool}\ ChangeSettings(SETTINGS\ settings,\ \textcolor{keywordtype}{bool}\ value);}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//\ Do\ the\ logging}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_open_log_1_1_log}{Log}}\ (\textcolor{keyword}{const}\ std::string\&\ msg,\ \textcolor{keyword}{const}\ std::string\&\ code,\ \textcolor{keyword}{const}\ std::source\_location\ location=std::source\_location::current());}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{class_logger}{Logger}}();}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_logger}{Logger}}\ \&operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_logger}{Logger}}\ \&rst)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{//\ Variables}}
\DoxyCodeLine{00073\ \ \ \ \ std::unordered\_map<std::string,\ std::unique\_ptr<LogFilter>>\ m\_logFilters\ \ \ \ \{\ \};}
\DoxyCodeLine{00074\ \ \ \ \ std::unordered\_map<std::string,\ std::unique\_ptr<LogTarget>>\ m\_logTargets\ \ \ \ \{\ \};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{//\ Current\ Profiles}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ m\_maxActiveLogTargets\ \{5\};}
\DoxyCodeLine{00078\ \ \ \ \ std::vector<LogTarget*>\ m\_logTargetsActive\ \ \{\ \textcolor{keyword}{nullptr}\ \};}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{class_open_log_1_1_log_filter}{LogFilter}}*\ \ \ \ \ \ \ \ \ \ \ \ \ m\_logFilter\ \ \ \ \ \ \ \ \ \{\ \textcolor{keyword}{nullptr}\ \};}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{struct_log_settings}{LogSettings}}\ m\_defaultLogSettings;}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \};}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \textcolor{comment}{//\ Non-\/Member\ Helper\ Functions}}
\DoxyCodeLine{00086\ std::string\ \ \ \ \ FormatTime\ \ \ \ \ \ (\textcolor{keyword}{const}\ std::chrono::time\_point<std::chrono::system\_clock>\&\ time)\ \ \ \ \textcolor{keyword}{noexcept};\ \textcolor{comment}{//\ Returns\ time\ in\ HH::MM::SS::XXX,\ XXX\ being\ milliseconds,\ it's\ in\ three\ digits}}
\DoxyCodeLine{00087\ std::string\ \ \ \ \ FormatLocation\ \ (\textcolor{keyword}{const}\ std::source\_location\ location,\ \textcolor{keywordtype}{bool}\ oneLine=\textcolor{keyword}{true})\ \ \ \ \ \ \ \ \ \ \ \ noexcept;}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
